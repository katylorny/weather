(function(e){function t(t){for(var n,i,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/weather/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"05a5":function(e,t,a){},"160d":function(e,t,a){e.exports=a.p+"img/shower-rain.e5824dce.jpg"},2017:function(e,t,a){"use strict";a("05a5")},"2c88":function(e,t,a){"use strict";a("fb2b")},4631:function(e,t,a){},"50c1":function(e,t,a){e.exports=a.p+"img/few-clouds.d5a7c173.jpg"},"515a":function(e,t,a){e.exports=a.p+"img/rain.965cedba.jpg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-main")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main",style:{backgroundImage:"url("+(e.PICS[e.icon]||e.mountainImg)+")"}},[a("v-header"),a("days")],1)},s=[],c=a("5530"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("h1",{staticClass:"header__title"},[e._v(" Weather ")]),a("div",{staticClass:"header__geo"},[a("p",{staticClass:"header__city"},[e._v(" "+e._s(e.city)+" ")]),e.locationStatus.isError?a("p",{staticClass:"header__error"},[e._v(" Attention! "+e._s(e.locationStatus.errorMessage)+" "),e.locationStatus.isError?a("button",{staticClass:"header__refresh-button",attrs:{type:"button"},on:{click:e.getCurrentPosition}},[a("img",{attrs:{src:e.refreshImg,alt:"Refresh",width:"15",height:"15"}})]):e._e()]):e._e()])])},d=[],l=a("6f50"),p=a.n(l),h=a("86df"),f={name:"Header",data:function(){return{refreshImg:p.a}},mounted:function(){this.getCurrentPosition()},computed:Object(c["a"])({},Object(h["b"])(["city","locationStatus"])),methods:Object(c["a"])({},Object(h["a"])(["getCurrentPosition"]))},m=f,g=(a("2c88"),a("2877")),y=Object(g["a"])(m,u,d,!1,null,"e211df64",null),v=y.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"days"},[a("div",{staticClass:"days__buttons"},e._l(e.weatherInfoTypes,(function(t,n){return a("radio-button",{key:n,attrs:{name:"type",value:t},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[e._v(" "+e._s(t)+" ")])})),1),e.locationStatus.isError?a("div",{staticClass:"days__show-moscow-weather"},[a("p",[e._v("We don't know where you are.")]),a("button",{on:{click:e.onShowMoscowWeatherButtonClick}},[e._v(" Show weather in Moscow ")])]):a("div",{staticClass:"days__list"},e._l(e.fakeWeather,(function(t,n){return a("day",{key:n,attrs:{"selected-type":e.selectedType,temperature:t.temperature,humidity:t.humidity,pressure:t.pressure,wind:t.wind,img:t.icon,date:t.date}})})),1)])},_=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"day"},[a("div",{staticClass:"day__title"},[e._v(" "+e._s(e.date)+" ")]),e.temperature?a("div",{class:["day__temperature",e.isActive("Temperature")?"showed":""]},[e._v(" "+e._s(e.temperature)+" ")]):a("div",{staticClass:"loader"}),e.humidity?a("div",{class:["day__humidity",e.isActive("Air humidity")?"showed":""]},[e._v(" "+e._s(e.humidity)+" ")]):e._e(),e.pressure?a("div",{class:["day__pressure",e.isActive("Atmosphere pressure")?"showed":""]},[e._v(" "+e._s(e.pressure)+" ")]):e._e(),e.wind?a("div",{class:["day__wind",e.isActive("Wind speed")?"showed":""]},[e._v(" "+e._s(e.wind)+" ")]):e._e(),a("div",{staticClass:"day__img"},[e.img?a("img",{attrs:{src:"http://openweathermap.org/img/wn/"+e.img+"@2x.png",alt:""}}):e._e()])])},j=[],C=(a("a9e3"),a("d203")),S=a.n(C),D={name:"Day",props:{selectedType:String,temperature:Number,pressure:Number,humidity:Number,wind:Number,icon:String,img:String,date:String},data:function(){return{cloudyIcon:S.a}},methods:{isActive:function(e){return e===this.selectedType}}},T=D,O=(a("fb09"),Object(g["a"])(T,w,j,!1,null,"7f4ecf67",null)),x=O.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{class:["radio-button",e.isChecked?"checked":""]},[a("input",{attrs:{type:"radio",name:e.name},domProps:{value:e.value,checked:e.isChecked},on:{change:function(t){return e.$emit("vmodelevent",t.target.value)}}}),a("span",{staticClass:"radio-button__label"},[e._t("default")],2)])},k=[],E={name:"RadioButton",model:{prop:"vmodelprop",event:"vmodelevent"},props:{name:String,value:String,vmodelprop:String},computed:{isChecked:function(){return this.vmodelprop===this.value}}},P=E,W=(a("2017"),Object(g["a"])(P,M,k,!1,null,"1dc9eb7c",null)),A=W.exports,I=a("2f62"),$=function(e){return e-273.15},B=function(e,t){var a=e-.5+Math.random()*(t-e+1);return Math.round(a)},L={coords:{longitude:"37.378847",latitude:"55.558741"}},N=["01d","02d","03d","04d","09d","10d","11d","13d","50d"],R=function(e){return e[Math.floor(Math.random()*e.length)]},H=function(e){e&&console.log("date",e);var t=e.toLocaleDateString("en-En",{weekday:"short"}),a=e.toLocaleDateString("en-En",{day:"numeric"}),n=e.toLocaleDateString("en-En",{month:"short"});return t+", "+a+" "+n},J={name:"Days",components:{RadioButton:A,Day:x},data:function(){return{weatherInfoTypes:["Temperature","Air humidity","Atmosphere pressure","Wind speed"],selectedType:"Temperature"}},computed:Object(c["a"])(Object(c["a"])({},Object(I["c"])(["locationStatus"])),{},{fakeWeather:function(){return this.$store.getters.fakeWeather}}),methods:Object(c["a"])(Object(c["a"])({},Object(I["b"])(["setWeatherData"])),{},{onShowMoscowWeatherButtonClick:function(){this.setWeatherData(L)}})},V=J,U=(a("d0cb"),Object(g["a"])(V,b,_,!1,null,"3e38d51b",null)),q=U.exports,z=a("69dc"),F=a.n(z),G=a("50c1"),K=a.n(G),Q=a("f4a4"),X=a.n(Q),Y=a("cfe5"),Z=a.n(Y),ee=a("160d"),te=a.n(ee),ae=a("515a"),ne=a.n(ae),re=a("ee2a"),oe=a.n(re),ie=a("c815"),se=a.n(ie),ce=a("bb1b"),ue=a.n(ce),de={"01d":F.a,"01n":F.a,"02d":K.a,"02n":K.a,"03d":X.a,"03n":X.a,"04d":Z.a,"04n":Z.a,"09d":te.a,"09n":te.a,"10d":ne.a,"10n":ne.a,"11d":oe.a,"11n":oe.a,"13d":se.a,"13n":se.a,"50d":ue.a,"50n":ue.a},le=a("82a7"),pe=a.n(le),he={name:"Main",data:function(){return{geoPosition:"",PICS:de,mountainImg:pe.a}},components:{Days:q,VHeader:v},computed:Object(c["a"])({},Object(I["c"])(["icon"]))},fe=he,me=(a("5782"),Object(g["a"])(fe,i,s,!1,null,"d46a9d50",null)),ge=me.exports,ye={name:"App",components:{VMain:ge}},ve=ye,be=(a("5c0b"),Object(g["a"])(ve,r,o,!1,null,null,null)),_e=be.exports,we=(a("d3b7"),a("99af"),a("108b")),je=a.n(we);n["a"].use(I["a"]);var Ce=new I["a"].Store({state:{city:"Unnamed City",coords:{lat:null,lon:null},locationStatus:{isError:!1,errorMessage:""},weatherDataToday:{temperature:null,humidity:null,pressure:null,wind:null,icon:"",date:null},date:null,icon:""},getters:{fakeWeather:function(e){var t=[];t.push(e.weatherDataToday);for(var a=0;a<3;a++){var n=null;e.date&&(n=e.date,n.setDate(n.getDate()+1));var r={temperature:e.weatherDataToday.temperature?Math.abs(e.weatherDataToday.temperature+B(-5,5)):null,humidity:e.weatherDataToday.humidity+B(-5,5),pressure:e.weatherDataToday.pressure+B(-50,50),wind:Math.round(Math.abs(e.weatherDataToday.wind+B(-5,5))),icon:e.weatherDataToday.icon?R(N):"",date:e.date?H(n):null};t.push(r)}return t}},mutations:{changeCoords:function(e,t){var a=t.lat,n=t.lon;e.coords.lat=a,e.coords.lon=n},changeCity:function(e,t){e.city=t},changeErrorStatus:function(e,t){e.locationStatus.isError=t},changeErrorMessage:function(e,t){e.locationStatus.errorMessage=t},setTodayWeatherData:function(e,t){var a=t.temperature,n=t.humidity,r=t.pressure,o=t.wind,i=t.icon,s=t.date;e.weatherDataToday.temperature=Math.round(a),e.weatherDataToday.humidity=n,e.weatherDataToday.pressure=r,e.weatherDataToday.wind=o,e.weatherDataToday.icon=i,e.weatherDataToday.date=s},setDate:function(e,t){e.date=t},setIcon:function(e,t){e.icon=t}},actions:{setWeatherData:function(e,t){var a=e.commit,n=e.state,r=function(e){fetch("https://nominatim.openstreetmap.org/reverse?format=json&lon="+e[0]+"&lat="+e[1],{headers:{"Accept-Language":"en"}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.address.city_district||e.address.county||e.address.state;a("changeCity",je()().transform(t," "))}))};n.locationStatus.isError=!1,a("changeCoords",{lat:t.coords.latitude,lon:t.coords.longitude}),r([n.coords.lon,n.coords.lat]);var o="f16dd19c3ddd4b028bed5074fee33402";fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n.coords.lat,"&lon=").concat(n.coords.lon,"&appid=").concat(o)).then((function(e){return e.json()})).then((function(e){var t=new Date;a("setDate",t),a("setIcon",e.weather[0].icon),a("setTodayWeatherData",{temperature:Math.round($(e.main.temp)),humidity:Math.round(e.main.humidity),pressure:Math.round(e.main.pressure),wind:Math.round(e.wind.speed),icon:e.weather[0].icon,date:H(t)})}))},getCurrentPosition:function(e){var t=e.commit,a=e.dispatch,n=function(e){a("setWeatherData",e)},r=function(e){t("changeErrorStatus",!0),t("changeErrorMessage",e.message)};navigator.geolocation.getCurrentPosition(n,r)}},modules:{}});n["a"].config.productionTip=!1,new n["a"]({store:Ce,render:function(e){return e(_e)}}).$mount("#app")},5782:function(e,t,a){"use strict";a("4631")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"69dc":function(e,t,a){e.exports=a.p+"img/clear-sky.0c04975e.jpg"},"6f50":function(e,t,a){e.exports=a.p+"img/icon-reload.48f8a15a.svg"},"72ba":function(e,t,a){},7360:function(e,t,a){},"82a7":function(e,t,a){e.exports=a.p+"img/mountain.a6f0ea74.jpg"},"9c0c":function(e,t,a){},bb1b:function(e,t,a){e.exports=a.p+"img/mist.b6b25cc3.jpg"},c815:function(e,t,a){e.exports=a.p+"img/snow.47462178.jpg"},cfe5:function(e,t,a){e.exports=a.p+"img/broken-clouds.f1ce4597.jpg"},d0cb:function(e,t,a){"use strict";a("72ba")},d203:function(e,t,a){e.exports=a.p+"img/icon-cloudy.9d3c104e.png"},ee2a:function(e,t,a){e.exports=a.p+"img/thunderstorm.c1ce868b.jpg"},f4a4:function(e,t,a){e.exports=a.p+"img/sccattered-clouds.fedc6999.jpg"},fb09:function(e,t,a){"use strict";a("7360")},fb2b:function(e,t,a){}});
//# sourceMappingURL=app.756844d0.js.map